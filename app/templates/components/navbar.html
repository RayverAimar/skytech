<div
  class="navbar bg-gradient-to-r from-primary to-purple-600 text-white shadow-lg"
  style="background-size: 200% 200%; animation: moveGradient 8s ease infinite"
>
  <div class="navbar-start">
    <div class="dropdown">
      <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h7"
          />
        </svg>
      </div>
      <ul
        tabindex="0"
        class="menu menu-sm dropdown-content mt-3 z-[1] p-2 text-black shadow bg-base-100 rounded-box w-52"
      >
        <li><a href="{{ url_for('home') }}">Home</a></li>
        {% if user %}
        <li>
          <a href="{{ url_for('user.profile', user_id=user.id) }}">Profile</a>
        </li>
        <li>
          <a href="{{ url_for('user.search_history') }}">Search History</a>
        </li>
        <li><a href="{{ url_for('auth.logout') }}">Logout</a></li>
        {% else %}
        <li><a href="{{ url_for('auth.login') }}">Login</a></li>
        <li><a href="{{ url_for('auth.signup') }}">Register</a></li>
        {% endif %}
      </ul>
    </div>
  </div>
  <div class="navbar-center">
    {% if user %}
    <a class="btn btn-ghost text-xl">Welcome , {{ user.username }}!</a>
    {% else %}
    <a class="btn btn-ghost text-xl">SkyTech</a>
    {% endif %}
  </div>

  <div class="navbar-end">
    {% if user and user.searches and random.randint(1,2) == 1 %}
    <div class="dropdown dropdown-end">
      <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
        <div class="indicator">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"
            />
          </svg>
          <span class="badge badge-xs indicator-item"></span>
        </div>
      </div>
      <div
        tabindex="0"
        class="mt-3 z-[1] card card-compact dropdown-content w-72 bg-base-100 shadow"
      >
        <div class="card-body">
          <span class="font-bold text-lg text-black">Flight Notifications</span>

          {% for search in user.searches %} {% if loop.index == 1 or
          random.randint(1, 4) == 1 %} {% set google_search_url =
          "https://www.google.com/search?q=flights+from+" ~ search.origin ~
          "+to+" ~ search.destination %} {% set sentences = [ "Don't miss out on
          our limited-time offer! Book your flights from
          <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong> now and save big!",
          "Planning your next adventure? Check out our discounted fares for
          flights between <strong>" ~ search.origin ~ "</strong> and
          <strong>" ~ search.destination ~ "</strong>! Book today and start
          packing!", "Ready to explore? Discover amazing deals on flights from
          <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong>! Reserve your seats now
          and embark on a journey of discovery!", "Unlock new destinations! Book
          your flights from <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong> and let the adventure
          begin! Don't wait, book now!", "Adventure is calling! Take advantage
          of our special fares for flights between
          <strong>" ~ search.origin ~ "</strong> and
          <strong>" ~ search.destination ~ "</strong>! Book now and make
          memories to last a lifetime!", "Dreaming of your next getaway? Look no
          further! Our flights from <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong> offer unbeatable value and
          unforgettable experiences!", "Start your journey with us! Experience
          the magic of travel with our flights from
          <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong>! Book now and let the
          adventure begin!", "Explore the world with ease! Our flights from
          <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong> provide seamless
          connections and unforgettable experiences. Book your tickets now!",
          "Elevate your travel experience! Discover incredible destinations with
          our flights from <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong>! Book today and create
          memories that last a lifetime!", "Adventure awaits! Book your flights
          from <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong> now and embark on an
          unforgettable journey filled with excitement and discovery!",
          "Discover new horizons! With our flights from
          <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong>, the possibilities are
          endless. Book now and start exploring!", "Make every moment count!
          Book your flights from <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong> today and create memories
          that will last a lifetime!", "Escape to paradise! Our flights from
          <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong> offer the perfect
          opportunity to unwind and explore. Book now and experience the
          magic!", "Experience the world in style! Book your flights from
          <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong> and enjoy premium service
          and exclusive amenities. Don't miss out, book today!", "Travel with
          confidence! Our flights from <strong>" ~ search.origin ~ "</strong> to
          <strong>" ~ search.destination ~ "</strong> offer flexible booking
          options and enhanced safety measures. Book now and enjoy peace of
          mind!" ] %} {% set selected_sentence = random.choice(sentences) %}
          <span class="text-info"
            >{{ selected_sentence|safe }}
            <a
              href="{{ google_search_url }}"
              class="text-sky-500 hover:text-sky-700 underline decoration-sky-500"
              >Click here for more information</a
            ></span
          >
          {% endif %} {% endfor %}

          <div class="card-actions">
            <button class="btn btn-primary btn-block">View more</button>
          </div>
        </div>
      </div>
    </div>
    {% endif %}

    <label class="flex cursor-pointer gap-2">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <circle cx="12" cy="12" r="5" />
        <path
          d="M12 1v2M12 21v2M4.2 4.2l1.4 1.4M18.4 18.4l1.4 1.4M1 12h2M21 12h2M4.2 19.8l1.4-1.4M18.4 5.6l1.4-1.4"
        />
      </svg>
      <input type="checkbox" value="forest" class="toggle theme-controller" />
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="20"
        height="20"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
      </svg>
    </label>
  </div>
</div>
